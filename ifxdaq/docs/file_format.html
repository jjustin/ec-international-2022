<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>File format reference &mdash; ifxdaq  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Format (format.version)" href="file_format/format.html" />
    <link rel="prev" title="ifxdaq.worker" href="_autosummary/ifxdaq.worker.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ifxdaq
            <img src="_static/ifx_logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">ifxdaq</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="daqkit.html">DaqKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="recorder.html">Recorder</a></li>
<li class="toctree-l1"><a class="reference internal" href="label.html">Labeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">FAQ / Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How To Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">File format reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#recordings">Recordings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-formats">File formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="file_format/format.html">Format (<code class="docutils literal notranslate"><span class="pre">format.version</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/timestamp.html">Timestamps (<code class="docutils literal notranslate"><span class="pre">*_timestamp.csv</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/meta.html">Meta data (<code class="docutils literal notranslate"><span class="pre">meta.json</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/radar.html">Radar data (<code class="docutils literal notranslate"><span class="pre">radar.npy</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/rgb.html">RGB data (<code class="docutils literal notranslate"><span class="pre">rgb.mp4</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/depth.html">Depth data (<code class="docutils literal notranslate"><span class="pre">depth.npy</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/temperature.html">Temperature data (<code class="docutils literal notranslate"><span class="pre">temperature.npy</span></code>)</a></li>
<li class="toctree-l3"><a class="reference internal" href="file_format/label.html">Label (<code class="docutils literal notranslate"><span class="pre">label.json</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#design-decisions">Design decisions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ifxdaq</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>File format reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/file_format.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="file-format-reference">
<span id="file-format"></span><h1>File format reference<a class="headerlink" href="#file-format-reference" title="Permalink to this headline"></a></h1>
<section id="recordings">
<h2>Recordings<a class="headerlink" href="#recordings" title="Permalink to this headline"></a></h2>
<p>Exemplary recording:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>recording_2022_01_18_08_57_16   &lt;--- Recording directory
|-- CamIntelRealSense_00            &lt;--- Sensor directory
|   |-- config.json                     &lt;--- Configuration
|   |-- depth.npy                       &lt;--- Sensor data
|   |-- depth_timestamp.csv             &lt;--- Sensor timestamps
|   |-- format.version                  &lt;--- Format version
|   |-- meta.json                       &lt;--- Sensor meta data
|   |-- rgb.mp4                         &lt;--- Sensor data
|   `-- rgb_timestamp.csv               &lt;--- Sensor timestamps
|-- Detection_00                    &lt;--- Detection stage directory
|   |-- format.version                  &lt;--- Format version
|   |-- label.json                      &lt;--- Label data
|   |-- label_timestamp.csv             &lt;--- Label timestamps
|   |-- meta.json                       &lt;--- Label meta data
|-- Tracking_00                     &lt;--- Tracking stage directory
|   |-- format.version                  &lt;--- Format version
|   |-- label.json                      &lt;--- Label data
|   |-- label_timestamp.csv             &lt;--- Label timestamps
|   |-- meta.json                       &lt;--- Label meta data
|-- RadarIfxAvian_00                &lt;--- Sensor directory
|   |-- config.json                     &lt;--- Configuration
|   |-- format.version                  &lt;--- Format version
|   |-- meta.json                       &lt;--- Sensor meta data
|   |-- radar.npy                       &lt;--- Sensor data
|   |-- radar_timestamp.csv             &lt;--- Sensor timestamps
|   |-- temperature.npy                 &lt;--- Sensor data
|   `-- temperature_timestamp.csv       &lt;--- Sensor timestamps
|-- RadarIfxAvian_01                &lt;--- Sensor directory
|   |-- config.json                     &lt;--- Configuration
|   |-- format.version                  &lt;--- Format version
|   |-- meta.json                       &lt;--- Sensor meta data
|   |-- radar.npy                       &lt;--- Sensor data
|   |-- radar_timestamp.csv             &lt;--- Sensor timestamps
|   |-- temperature.npy                 &lt;--- Sensor data
|   `-- temperature_timestamp.csv       &lt;--- Sensor timestamps
`-- meta.json                       &lt;--- Global meta data
</pre></div>
</div>
<p>A recording is a set of files that were created simultaneously. The data from a single recording is organized within
a folder. We use the following naming convention to encode the start time of the recording in the folder name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recording_</span><span class="o">&lt;</span><span class="n">YEAR</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">MONTH</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">DAY</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">HOUR</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">MINUTE</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">SECOND</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recording_2021_04_14_09_17_54</span>   <span class="o">==&gt;</span>  <span class="mi">2021</span><span class="o">/</span><span class="mi">04</span><span class="o">/</span><span class="mi">14</span> <span class="mi">09</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">54</span>
</pre></div>
</div>
<p><strong>Global meta data</strong></p>
<p>We store some global meta data that applies to all sensors in a file called <code class="docutils literal notranslate"><span class="pre">meta.json</span></code>. You find more information
in the <a class="reference internal" href="file_format/meta.html#metadata"><span class="std std-ref">Meta data (meta.json)</span></a> section.</p>
<p><strong>Sensor data</strong></p>
<p>Data belonging to a single sensors is stored in an individual directory. The name of the directory is derived by the
type of the sensor and a running number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SensorType</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">RunningNumber</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In every sensor directory you will find the following files:</p>
<blockquote>
<div><ul>
<li><p>data files - The actual sensor data:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="file_format/radar.html#radar"><span class="std std-ref">Radar data (radar.npy)</span></a></p></li>
<li><p><a class="reference internal" href="file_format/rgb.html#rgb"><span class="std std-ref">RGB data (rgb.mp4)</span></a></p></li>
<li><p><a class="reference internal" href="file_format/depth.html#depth"><span class="std std-ref">Depth data (depth.npy)</span></a></p></li>
<li><p><a class="reference internal" href="file_format/temperature.html#temperature"><span class="std std-ref">Temperature data (temperature.npy)</span></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p><a class="reference internal" href="file_format/meta.html#metadata"><span class="std std-ref">Meta data (meta.json)</span></a> - Device dependent meta data.</p></li>
<li><p><a class="reference internal" href="file_format/timestamp.html#timestamps"><span class="std std-ref">Timestamps (*_timestamp.csv)</span></a> - One timestamp file for each sensor stream.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">config.*</span></code> - Configuration file of the sensor. We reuse the proprietary configuration files from all sensors.</p></li>
<li><p><a class="reference internal" href="file_format/format.html#format-version"><span class="std std-ref">Format (format.version)</span></a> - Indicating the file format version.</p></li>
</ul>
</div></blockquote>
<p><strong>Label stage data</strong></p>
<p>Labels belonging to a single stage are stored in an individual directory. The name of the directory is derived by
the stage name and a running number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Stage</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">RunningNumber</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In every label directory you will find the following files:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="file_format/meta.html#metadata"><span class="std std-ref">Meta data (meta.json)</span></a> - Algorithm dependent meta data and configurations.</p></li>
<li><p><a class="reference internal" href="file_format/timestamp.html#timestamps"><span class="std std-ref">Timestamps (*_timestamp.csv)</span></a> - One timestamp file for each label stream.</p></li>
<li><p><a class="reference internal" href="file_format/format.html#format-version"><span class="std std-ref">Format (format.version)</span></a> - Indicating the file format version.</p></li>
</ul>
</div></blockquote>
<p>Depending on the stage also one or more of the following files are present:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="file_format/label.html#label"><span class="std std-ref">Label (label.json)</span></a> - The actual labels.</p></li>
<li><p><a class="reference internal" href="file_format/rgb.html#rgb"><span class="std std-ref">RGB data (rgb.mp4)</span></a> - Labeled video.</p></li>
</ul>
</div></blockquote>
</section>
<section id="file-formats">
<h2>File formats<a class="headerlink" href="#file-formats" title="Permalink to this headline"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="file_format/format.html">Format (<code class="docutils literal notranslate"><span class="pre">format.version</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/timestamp.html">Timestamps (<code class="docutils literal notranslate"><span class="pre">*_timestamp.csv</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/meta.html">Meta data (<code class="docutils literal notranslate"><span class="pre">meta.json</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/radar.html">Radar data (<code class="docutils literal notranslate"><span class="pre">radar.npy</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/rgb.html">RGB data (<code class="docutils literal notranslate"><span class="pre">rgb.mp4</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/depth.html">Depth data (<code class="docutils literal notranslate"><span class="pre">depth.npy</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/temperature.html">Temperature data (<code class="docutils literal notranslate"><span class="pre">temperature.npy</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="file_format/label.html">Label (<code class="docutils literal notranslate"><span class="pre">label.json</span></code>)</a></li>
</ul>
</div>
</section>
<section id="design-decisions">
<h2>Design decisions<a class="headerlink" href="#design-decisions" title="Permalink to this headline"></a></h2>
<p><strong>Retrospective - HDF5 (until 2021/08)</strong></p>
<p>We started to store data in HDF5 files. However, after some time we recognized some serious drawbacks:</p>
<ul class="simple">
<li><p>High entry for beginners</p></li>
<li><p>Sometimes poor performance</p></li>
<li><p>Need for specialized tools to explore the data (<a class="reference external" href="https://www.hdfgroup.org/downloads/hdfview/">HDFView</a>)</p></li>
<li><p>Single library implementation, all wrappers build on this implementation</p></li>
</ul>
<p>Here are some other articles that highlight some of the advantages and disadvantages of HDF5:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://cyrille.rossant.net/moving-away-hdf5/">Moving away from HDF5</a></p></li>
<li><p><a class="reference external" href="https://cyrille.rossant.net/should-you-use-hdf5/">Should you use HDF5</a></p></li>
<li><p><a class="reference external" href="http://blog.khinsen.net/posts/2016/01/07/on-hdf5-and-the-future-of-data-management/">On HDF5 and the future of data management</a></p></li>
</ul>
<p><strong>Learnings - Resulting in file format v1.0 (from 2021/08)</strong></p>
<p>While looking for an alternative for HDF5 to store our data, we understood that there is no such generic file format
to store various types of data. We decided that we want to use for every type of data a simple file format that meets
the following requirements:</p>
<ul class="simple">
<li><p>simple to use and explore</p></li>
<li><p>a natural fit to the type of data</p></li>
<li><p>scalable</p></li>
<li><p>cross-platform support</p></li>
<li><p>OpenSource</p></li>
</ul>
<p><strong>Discussions and proposals are tracked in JIRA</strong></p>
<ul class="simple">
<li><p>Data format: <a class="reference external" href="https://jirard.intra.infineon.com/browse/SENSYS-207">SENSYS-207</a></p></li>
<li><p>Label format: <a class="reference external" href="https://jirard.intra.infineon.com/browse/SENSYS-214">SENSYS-214</a></p></li>
<li><p>Meta data format: <a class="reference external" href="https://jirard.intra.infineon.com/browse/SENSYS-217">SENSYS-217</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="_autosummary/ifxdaq.worker.html" class="btn btn-neutral float-left" title="ifxdaq.worker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="file_format/format.html" class="btn btn-neutral float-right" title="Format (format.version)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright restricted | Infineon Technologies. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>